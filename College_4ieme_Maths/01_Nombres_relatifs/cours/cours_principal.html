<!DOCTYPE html><html lang='fr'><head><meta charset='UTF-8'><meta name='viewport' content='width=device-width,initial-scale=1'>
<title>Nombres relatifs</title>
<style>
body{font-family:Arial,system-ui,sans-serif;margin:0;padding:1.1rem 1.2rem;line-height:1.55;background:#0f1115;color:#f5f7fa;}
header,footer{background:rgba(255,255,255,0.05);padding:1rem 1.25rem;margin:0 0 1.2rem;border:1px solid #1e2530;border-radius:12px;}
section{background:rgba(255,255,255,0.025);padding:1rem 1.1rem;margin:0 0 1rem;border:1px solid #1b222c;border-radius:12px;}
h1,h2,h3{line-height:1.2;margin:0 0 .65rem;font-weight:600;}
/* Utilities */
.mt-narrow{margin-top:.4rem;}
.summary-mini{cursor:pointer;font-size:.7rem;}
.text-fade{opacity:.6;}
.list-compact{font-size:.7rem;line-height:1.3;}
/* SVG visualization */
.svg-container{background:#1a2332;padding:1rem;border-radius:8px;margin:.8rem 0;overflow-x:auto;}
.svg-responsive{width:100%;max-width:600px;height:auto;}
nav a{color:#67c7ff;text-decoration:none;margin-right:.85rem;font-size:.82rem;letter-spacing:.3px;}nav a:hover{text-decoration:underline;}

.grid-auto{display:grid;gap:.75rem;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));}
.card{background:#141a21;border:1px solid #232d38;padding:.75rem .85rem;border-radius:12px;position:relative;}
.card h3{margin-top:0;font-size:1.02rem;}
.notice{background:#162f47;border:1px solid #214b6b;padding:.65rem .8rem;border-radius:9px;font-size:.78rem;}
small.ref{font-size:.65rem;opacity:.75;}
pre,code{font-family:consolas,ui-monospace,monospace;font-size:.78rem;}
.toggle{background:#244b82;color:#fff;border:none;padding:.3rem .55rem;border-radius:6px;font-size:.65rem;cursor:pointer;margin-top:.35rem;}
.toggle:hover{background:#1d3f6d;}
.solution{display:none;margin-top:.4rem;padding:.5rem .6rem;background:#1b2733;border:1px solid #2a3948;border-radius:8px;font-size:.78rem;}
.calendar-section{text-align:center;margin-top:1rem;}
.btn-calendar{background:#059669;padding:0.6rem 1rem;font-size:0.8rem;margin:0.5rem;color:#fff;border:none;border-radius:6px;cursor:pointer;}
.btn-calendar:hover{background:#047857;}
.btn-calendar-mini{background:#059669;padding:0.3rem 0.5rem;font-size:0.7rem;color:#fff;border:none;border-radius:4px;cursor:pointer;display:inline-block;flex-shrink:0;}
.btn-calendar-mini:hover{background:#047857;}
.calendar-info{font-size:0.7rem;opacity:0.8;margin-top:0.5rem;}
.reactivation-item{margin:0.5rem 0;display:flex;align-items:center;gap:0.5rem;}
.calendar-tip{margin-top:1rem;text-align:center;font-size:0.75rem;opacity:0.8;}

.table-eval{width:100%;border-collapse:collapse;font-size:.75rem;}
.table-eval th,.table-eval td{border:1px solid #28323d;padding:.35rem .4rem;text-align:left;}
blockquote{margin:.6rem 0;padding:.55rem .75rem;background:#17212b;border-left:4px solid #2563eb;border-radius:4px;font-size:.85rem;}
/* Tips color coding */
.tip-verify{background:#0f2027;border-left:4px solid #00d2d3;padding:.5rem .65rem;border-radius:6px;font-size:.75rem;margin:.5rem 0;}
.tip-context{background:#1a1f3a;border-left:4px solid #3b82f6;padding:.5rem .65rem;border-radius:6px;font-size:.75rem;margin:.5rem 0;}
.tip-method{background:#1f2937;border-left:4px solid #10b981;padding:.5rem .65rem;border-radius:6px;font-size:.75rem;margin:.5rem 0;}
@media (max-width:760px){nav a{display:inline-block;margin:.25rem .6rem .25rem 0;}}
 
 .regle-encadree {
  padding: 1rem;
  margin: 1rem 0;
  border-radius: 8px;
  position: relative;
  overflow: hidden;
 }
 .regle-encadree .titre-regle {
  font-size: 1rem;
  margin: 0 0 .4rem;
  position: relative;
  padding-left: 1.5rem;
 }
 .regle-encadree .contenu-regle {
  background: rgba(245, 247, 250, 0.05);
  padding: 10px;
  border-radius: 8px;
  border-left: 4px solid #67c7ff;
  font-weight: 600;
 }
 
 /* RÃ¨gles colorÃ©es */
 .regle-bleue {
  border-color: #67c7ff;
  background: linear-gradient(135deg, rgba(103, 199, 255, 0.15), rgba(103, 199, 255, 0.05));
  box-shadow: 0 4px 15px rgba(103, 199, 255, 0.3);
 }
 .regle-bleue::before {
  content: 'â•';
  border-color: #67c7ff;
 }
 .regle-bleue .titre-regle {
  color: #67c7ff;
  text-shadow: 0 0 10px rgba(103, 199, 255, 0.5);
 }
 .regle-bleue .contenu-regle {
  border-left-color: #67c7ff;
 }
 
 .regle-orange {
  border-color: #ff9f43;
  background: linear-gradient(135deg, rgba(255, 159, 67, 0.15), rgba(255, 159, 67, 0.05));
  box-shadow: 0 4px 15px rgba(255, 159, 67, 0.3);
 }
 .regle-orange::before {
  content: 'â–';
  border-color: #ff9f43;
 }
 .regle-orange .titre-regle {
  color: #ff9f43;
  text-shadow: 0 0 10px rgba(255, 159, 67, 0.5);
 }
 .regle-orange .contenu-regle {
  border-left-color: #ff9f43;
 }
 /* Bloc erreurs unifiÃ© */
 .sous-section-erreurs{margin:.9rem 0;padding:.6rem .75rem;border:1px solid #1e2530;border-radius:8px;background:rgba(255,255,255,0.02);}
 .sous-section-erreurs h3{margin-top:0;font-size:.9rem;}
 .intro-erreurs{font-size:.7rem;opacity:.75;margin:-.2rem 0 .8rem;}
 .explication-sous-partie{font-size:.65rem;opacity:.6;margin:.2rem 0 .5rem;}
 .liste-retention li,.liste-pieges li{font-size:.7rem;line-height:1.3;margin:.3rem 0;}
 .ancres-legacy{display:none;}
 /* Bloc apprentissage progressif unifiÃ© */
 .sous-section-apprentissage{margin:.9rem 0;padding:.6rem .75rem;border:1px solid #1e2530;border-radius:8px;background:rgba(255,255,255,0.02);}
 .sous-section-apprentissage h3{margin-top:0;font-size:.9rem;}
 .intro-apprentissage{font-size:.7rem;opacity:.75;margin:-.2rem 0 .8rem;}
 
 /* Ã‰lÃ©ments interactifs pour l'apprentissage */
 .quiz-input{margin:0.8rem 0;display:flex;gap:0.5rem;align-items:center;}
 .quiz-textbox{background:#1e2530;border:2px solid #3d4c5c;color:#f5f7fa;padding:0.5rem 0.75rem;border-radius:6px;font-size:0.85rem;width:80px;text-align:center;}
 .quiz-textbox:focus{border-color:#67c7ff;outline:none;box-shadow:0 0 8px rgba(103,199,255,0.3);}
 .quiz-textbox:disabled{background:#1a4d3a;border-color:#2d5a3d;color:#90ee90;}
 .quiz-btn{background:#67c7ff;color:#0d1117;padding:0.4rem 0.8rem;border:none;border-radius:6px;cursor:pointer;font-size:0.8rem;font-weight:600;transition:all 0.2s;}
 .quiz-btn:hover{background:#5bb3f0;transform:translateY(-1px);}
 .quiz-btn:disabled{background:#2d5a3d;color:#90ee90;cursor:not-allowed;transform:none;}
 .feedback-zone{margin:0.5rem 0 0;padding:0.6rem;border-radius:6px;font-size:0.8rem;line-height:1.4;}
 .feedback-success{background:rgba(144,238,144,0.1);border:1px solid #2d5a3d;color:#90ee90;}
 .feedback-error{background:rgba(255,99,99,0.1);border:1px solid #5c2d2d;color:#ff9999;}
/* MÃ©thode illustrÃ©e */
#methode-illustree{position:relative;}
.intro-methode{font-size:.7rem;opacity:.75;margin:-.2rem 0 .9rem;}
.method-steps{display:grid;gap:1rem;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));align-items:stretch;}
.step-card{background:#141a21;border:1px solid #24303b;padding:.9rem .95rem 1rem;border-radius:14px;position:relative;overflow:hidden;display:flex;flex-direction:column;gap:.55rem;}
.step-card h3{margin:.2rem 0 .2rem;font-size:1rem;}
.etape-badge{position:absolute;top:-10px;right:-10px;background:linear-gradient(135deg,#2563eb,#1e40af);color:#fff;width:44px;height:44px;display:flex;align-items:center;justify-content:center;font-weight:700;font-size:1.1rem;border-radius:50%;box-shadow:0 4px 12px rgba(0,0,0,.5);border:2px solid #0f172a;}
.etape2 .etape-badge{background:linear-gradient(135deg,#f59e0b,#b45309);} 
.etape3 .etape-badge{background:linear-gradient(135deg,#10b981,#065f46);} 
.etape-contexte{font-size:.68rem;background:#1a2530;padding:.45rem .55rem;border-left:3px solid #3b82f6;border-radius:6px;line-height:1.3;}
.etape-exemple{background:#182028;padding:.55rem .6rem;border:1px solid #24313d;border-radius:8px;font-size:.72rem;display:flex;flex-direction:column;gap:.35rem;}
.etape-exemple .expr{font-family:consolas,ui-monospace,monospace;font-size:.85rem;background:#11161c;padding:.3rem .5rem;border-radius:6px;display:inline-block;letter-spacing:.5px;}
.explication-inline{font-size:.7rem;line-height:1.35;}
.mini-check{display:flex;align-items:center;gap:.4rem;font-size:.65rem;margin-top:.2rem;flex-wrap:wrap;}
.mini-label{font-size:.6rem;opacity:.65;}
.quiz-textbox.mini{width:70px;padding:.35rem .5rem;font-size:.7rem;}
.quiz-btn.mini{padding:.32rem .55rem;font-size:.65rem;}
.mini-enonce{font-size:.65rem;opacity:.8;background:#1b2733;padding:.25rem .45rem;border-radius:5px;}
.mini-feedback{margin-top:.4rem;font-size:.65rem;padding:.4rem .5rem;}
.liste-controle{margin:.4rem 0 .2rem;padding-left:1.1rem;font-size:.65rem;line-height:1.3;}
.liste-controle li{margin:.15rem 0;}
.resume-flash{margin-top:1rem;padding:.7rem .9rem;font-size:.7rem;background:#132027;border:1px solid #1e3038;border-radius:10px;}
.rappel{font-size:.65rem;margin-top:.6rem;}
details.astuce,details.variante{background:#17212b;border:1px solid #25303b;padding:.55rem .7rem;border-radius:8px;font-size:.65rem;}
details summary{cursor:pointer;font-weight:600;color:#67c7ff;}
.regle-verte{border:1px solid #065f46;background:linear-gradient(135deg,rgba(16,185,129,.18),rgba(6,95,70,.08));box-shadow:0 4px 14px rgba(16,185,129,.25);} 
.regle-verte .titre-regle{color:#34d399;text-shadow:0 0 8px rgba(16,185,129,.5);} 
.regle-verte .contenu-regle{border-left-color:#10b981;} 
.droite-svg{width:100%;height:60px;margin-top:.4rem;background:#111b25;border:1px solid #20303d;border-radius:6px;}
.note-ligne{font-size:.6rem;opacity:.7;margin:.3rem 0 0;}
/* Timeline & rÃ©vision rapide */
.method-toolbar{display:flex;flex-wrap:wrap;align-items:center;justify-content:space-between;gap:.8rem;margin-bottom:.6rem;}
.timeline-steps{display:flex;gap:.55rem;}
.tstep{background:#1b2733;color:#8aa3b8;width:40px;height:40px;border-radius:50%;border:1px solid #2d3a46;font-weight:600;cursor:pointer;transition:.25s;position:relative;font-size:.85rem;}
.tstep.active{background:#2563eb;color:#fff;box-shadow:0 0 0 4px rgba(37,99,235,.25);}
.tstep:focus{outline:2px solid #67c7ff;outline-offset:2px;}
.toggle-mode{background:#334155;color:#e2e8f0;border:1px solid #475569;padding:.45rem .8rem;border-radius:8px;font-size:.7rem;font-weight:600;cursor:pointer;transition:.25s;}
.toggle-mode:hover{background:#3b4b5e;}
.toggle-mode[aria-pressed='true']{background:#2563eb;border-color:#1d4ed8;color:#fff;box-shadow:0 0 0 3px rgba(37,99,235,.35);}
body.fast-mode .etape-contexte,body.fast-mode details,body.fast-mode .liste-controle,body.fast-mode .rappel,body.fast-mode .explication-inline,body.fast-mode details.variante,body.fast-mode .note-ligne{display:none !important;}
body.fast-mode .step-card{min-height:120px;}
body.fast-mode .expr{background:#13212c;}
body.fast-mode .intro-methode{opacity:.55;}
 .feedback-neutral{background:rgba(103,199,255,0.1);border:1px solid #3d4c5c;color:#67c7ff;}
</style>

</head><body>
<header>
 <h1>Nombres relatifs</h1>
 <nav>
  <a href='../exercices/exercices_niveau1_decouverte.html'>Exercice Niveau 1</a>
  <a href='../exercices/exercices_niveau2_pratique.html'>Exercice Niveau 2</a>
  <a href='../exercices/exercices_niveau3_defi.html'>Exercice Niveau 3</a>
  <a href='../fiches_resume/fiche_synthese.html'>SynthÃ¨se</a>
  </nav>

</header>
<section><h2>ğŸ¯ 1. Introduction et objectif</h2>
<div class='tip-context'>ğŸŒ <strong>Objectif du chapitre :</strong> ÃŠtre capable d'additionner, soustraire et comparer des nombres relatifs dans des situations concrÃ¨tes.</div>
 <p><strong>Pourquoi Ã©tudier les nombres relatifs ?</strong> Pour interprÃ©ter gains/pertes, tempÃ©ratures, altitudes et soldes dans la vie quotidienne.</p>
 <blockquote>Exemples : Un jeu vidÃ©o affiche -120 PV puis +45 PV â€¢ TempÃ©rature : -5Â°C puis montÃ©e de 8Â°C â€¢ Compte bancaire : -50â‚¬ puis dÃ©pÃ´t de 75â‚¬</blockquote>

</section>
<section><h2>ğŸ› ï¸ 2. PrÃ©requis rapides</h2>
 <div class='grid-auto'>
  <div class='card'>
   <h3>ğŸ“ Sens du signe moins</h3>
   <div class='tip-verify'>ğŸ’¡ <strong>Mini-test :</strong> Que signifie -7 ? â†’ 7 unitÃ©s vers la gauche de 0</div>
   <p><strong>Je reconnais :</strong> Le signe - indique "moins que zÃ©ro" ou "opposÃ©"</p>
   <p><em>Exemples :</em> -5Â°C (froid), -10â‚¬ (dette), -3 (opposÃ© de 3)</p>

  </div>
  <div class='card'>
   <h3>ğŸ“ Lecture droite graduÃ©e</h3>
   <div class='tip-verify'>ğŸ’¡ <strong>Mini-test :</strong> Entre -4 et +2, lequel est le plus grand ? â†’ +2</div>
   <p><strong>Je sais :</strong> Situer un nombre sur une droite, comparer des positions</p>
   <p><em>Exemples :</em> 3 est Ã  droite de 1, -2 est Ã  gauche de 0</p>

  </div>
  <div class='card'>
   <h3>âš¡ PrioritÃ©s calcul simple</h3>
   <div class='tip-verify'>ğŸ’¡ <strong>Mini-test :</strong> 5 - (2 + 1) = ? â†’ 5 - 3 = 2</div>
   <p><strong>Je respecte :</strong> ParenthÃ¨ses d'abord, puis multiplications/divisions, puis additions/soustractions</p>
   <p><em>Exemples :</em> 2 + 3 Ã— 4 = 2 + 12 = 14 (pas 20)</p>

  </div>
 </div>
 <div class='notice'>Si un prÃ©requis manque â†’ mini rÃ©activation avant de poursuivre.</div>
</section>
<section id='apprentissage-progressif' class='bloc-cours'>
 <h2>ğŸš¶ 3. Apprendre Ã©tape par Ã©tape</h2>

 <div class='sous-section-apprentissage'>
  <h3>3.1. Visualisation</h3>
  <p class='explication-sous-partie'>But : voir concrÃ¨tement les nombres relatifs sur une droite graduÃ©e pour mieux comprendre les positions et comparaisons.</p>
  <p><strong>Droite graduÃ©e des nombres relatifs :</strong></p>
  <div class='svg-container'>
   <svg viewBox='0 0 600 120' class='svg-responsive'>
    <!-- Droite principale -->
    <line x1='50' y1='60' x2='550' y2='60' stroke='#67c7ff' stroke-width='3'/>
    <!-- FlÃ¨che -->
    <polygon points='545,55 560,60 545,65' fill='#67c7ff'/>
    
    <!-- Graduations et nombres -->
    <!-- -8 -->
    <line x1='90' y1='50' x2='90' y2='70' stroke='#ff6b6b' stroke-width='3'/>
    <circle cx='90' cy='60' r='6' fill='#ff6b6b' opacity='0.8'/>
    <text x='90' y='85' text-anchor='middle' fill='#ff6b6b' font-size='14' font-weight='bold'>-8</text>
    
    <!-- -3 -->
    <line x1='190' y1='50' x2='190' y2='70' stroke='#ff9f43' stroke-width='3'/>
    <circle cx='190' cy='60' r='6' fill='#ff9f43' opacity='0.8'/>
    <text x='190' y='85' text-anchor='middle' fill='#ff9f43' font-size='14' font-weight='bold'>-3</text>
    
    <!-- 0 (origine) -->
    <line x1='300' y1='45' x2='300' y2='75' stroke='#f5f7fa' stroke-width='4'/>
    <circle cx='300' cy='60' r='8' fill='#f5f7fa' opacity='0.9'/>
    <text x='300' y='40' text-anchor='middle' fill='#f5f7fa' font-size='16' font-weight='bold'>0</text>
    <text x='300' y='100' text-anchor='middle' fill='#8892b0' font-size='12'>origine</text>
    
    <!-- +4 -->
    <line x1='410' y1='50' x2='410' y2='70' stroke='#10ac84' stroke-width='3'/>
    <circle cx='410' cy='60' r='6' fill='#10ac84' opacity='0.8'/>
    <text x='410' y='85' text-anchor='middle' fill='#10ac84' font-size='14' font-weight='bold'>+4</text>
    
    <!-- +7 -->
    <line x1='480' y1='50' x2='480' y2='70' stroke='#00d2d3' stroke-width='3'/>
    <circle cx='480' cy='60' r='6' fill='#00d2d3' opacity='0.8'/>
    <text x='480' y='85' text-anchor='middle' fill='#00d2d3' font-size='14' font-weight='bold'>+7</text>
    
    <!-- Graduations mineures -->
    <g stroke='#4a5568' stroke-width='1' opacity='0.6'>
     <line x1='130' y1='55' x2='130' y2='65'/><text x='130' y='80' text-anchor='middle' fill='#8892b0' font-size='10'>-6</text>
     <line x1='170' y1='55' x2='170' y2='65'/><text x='170' y='80' text-anchor='middle' fill='#8892b0' font-size='10'>-4</text>
     <line x1='210' y1='55' x2='210' y2='65'/><text x='210' y='80' text-anchor='middle' fill='#8892b0' font-size='10'>-2</text>
     <line x1='230' y1='55' x2='230' y2='65'/><text x='230' y='80' text-anchor='middle' fill='#8892b0' font-size='10'>-1</text>
     <line x1='320' y1='55' x2='320' y2='65'/><text x='320' y='80' text-anchor='middle' fill='#8892b0' font-size='10'>+1</text>
     <line x1='340' y1='55' x2='340' y2='65'/><text x='340' y='80' text-anchor='middle' fill='#8892b0' font-size='10'>+2</text>
     <line x1='360' y1='55' x2='360' y2='65'/><text x='360' y='80' text-anchor='middle' fill='#8892b0' font-size='10'>+3</text>
     <line x1='430' y1='55' x2='430' y2='65'/><text x='430' y='80' text-anchor='middle' fill='#8892b0' font-size='10'>+5</text>
     <line x1='450' y1='55' x2='450' y2='65'/><text x='450' y='80' text-anchor='middle' fill='#8892b0' font-size='10'>+6</text>
    </g>
    
    <!-- Labels directionnels -->
    <text x='150' y='25' text-anchor='middle' fill='#ff6b6b' font-size='12' font-style='italic'>â† nÃ©gatifs</text>
    <text x='450' y='25' text-anchor='middle' fill='#10ac84' font-size='12' font-style='italic'>positifs â†’</text>
   </svg>
  </div>
  <div class='card'>
   <h4>ğŸ¯ Astuce de navigation</h4>
   <div class='tip-method'>âš¡ <strong>MÃ©mo :</strong> Ã€ gauche = plus petit â€¢ Ã€ droite = plus grand</div>
   <p><strong>RÃ¨gle simple :</strong> Plus on va Ã  droite, plus les nombres sont grands</p>
   <p><em>Exemple :</em> -8 < -3 < 0 < +4 < +7</p>

  </div>
 </div>

 <div class='sous-section-apprentissage'>
  <h3>3.2. Ã‰tapes guidÃ©es</h3>
  <p class='explication-sous-partie'>MÃ©thode en 3 Ã©tapes pour additionner deux nombres relatifs.</p>
  <div class='grid-auto'>
   <div class='card'>
    <h4>1ï¸âƒ£ Je regarde les signes</h4>
    <div class='tip-context'>ğŸ¤” <strong>Pourquoi :</strong> Car la mÃ©thode de calcul change selon les signes.</div>
    <p>Sont-ils identiques ou diffÃ©rents ?</p>
    <p><em>Ex :</em> (+3) et (-5) â†’ diffÃ©rents</p>
   </div>
   <div class='card'>
    <h4>2ï¸âƒ£ Je calcule</h4>
    <div class='tip-context'>ğŸ¤” <strong>Pourquoi :</strong> Signes pareils = addition â€¢ Signes diffÃ©rents = soustraction.</div>
    <p><strong>MÃªme signe :</strong> j'additionne<br><strong>Signes diffÃ©rents :</strong> je soustrais le plus petit du plus grand</p>
    <p><em>Ex :</em> 5 - 3 = 2</p>
   </div>
   <div class='card'>
    <h4>3ï¸âƒ£ Je choisis le signe</h4>
    <div class='tip-context'>ğŸ¤” <strong>Pourquoi :</strong> Le nombre le plus "fort" impose son signe au rÃ©sultat.</div>
    <p><strong>MÃªme signe :</strong> je garde ce signe<br><strong>Signes diffÃ©rents :</strong> signe du plus grand nombre</p>
    <p><em>Ex :</em> -5 est plus grand que +3 â†’ rÃ©sultat nÃ©gatif</p>
   </div>
  </div>
 </div>

 <div class='sous-section-apprentissage'>
  <h3>3.3. Devenir autonome</h3>
  <p class='explication-sous-partie'>But : passer d'un calcul entiÃ¨rement expliquÃ© Ã  un calcul autonome (100% guidÃ© â†’ semi-guidÃ© â†’ seul).</p>
  <div class='grid-auto'>
   <div class='card'>
    <h4>Phase 1 â€“ 100% guidÃ©</h4>
    <div class='tip-verify'>ğŸ’¡ <strong>VÃ©rification :</strong> Je contrÃ´le avec un contexte (argent ou tempÃ©rature).</div>
    <p><em>Calcul :</em> (+7) + (-5)</p>
    <ol class='mt-narrow'>
     <li>Je repÃ¨re les signes : + puis - (signes diffÃ©rents).</li>
     <li>Je prends les valeurs absolues (distances Ã  zÃ©ro) : 7 et 5.</li>
     <li>Je fais 7 - 5 = 2.</li>
     <li>Je garde le signe de la plus grande valeur (7 est +) â†’ <strong>+2</strong>.</li>
    </ol>

    <p><strong>âœï¸ Ã€ toi de valider :</strong> Refais le mÃªme calcul (+7) + (-5) =</p>
    <div class='quiz-input'>
        <input type='text' class='quiz-textbox' id='phase1Answer' placeholder='Ta rÃ©ponse' maxlength='4'>
    <button class='quiz-btn' onclick="checkPhaseAnswer(1, '+2', 'Signes diffÃ©rents : 7 - 5 = 2, signe du plus grand (+7) â†’ +2')">âœ“ Valider</button>
    </div>
    <div class='feedback-zone' id='phase1Feedback'></div>
   </div>
   <div class='card'>
    <h4>Phase 2 â€“ Semi-guidÃ©</h4>
    <p><em>Calcul :</em> (-9) + (+4)</p>
    <p><strong>ğŸ’¡ Indices :</strong> signes diffÃ©rents â†’ soustraction des valeurs absolues (distances Ã  zÃ©ro). Quel signe pour le rÃ©sultat ?</p>
    <p><strong>âœï¸ Ton calcul :</strong> (-9) + (+4) =</p>
    <div class='quiz-input'>
        <input type='text' class='quiz-textbox' id='phase2Answer' placeholder='Ta rÃ©ponse' maxlength='4'>
    <button class='quiz-btn' onclick="checkPhaseAnswer(2, '-5', 'Signes differents : 9 - 4 = 5, signe du plus grand (-9) => -5')">âœ“ Valider</button>
    </div>
    <div class='feedback-zone' id='phase2Feedback'></div>
   </div>
   <div class='card'>
    <h4>Phase 3 â€“ Autonome ğŸ†</h4>
    <p><em>Calcul :</em> (+12) + (-7)</p>
    <details><summary class='summary-mini'>ğŸ†˜ Besoin d'aide ?</summary><p><strong>Astuce :</strong> Les signes sont diffÃ©rents ! Tu dois soustraire les distances Ã  zÃ©ro (12 - 7) et garder le signe du nombre le plus "fort" (+12).</p></details>
    <details><summary class='summary-mini'>Auto-vÃ©rification</summary><ul class='list-compact'><li>Signe logique ?</li><li>Soustraction faite ?</li><li>Signe du plus grand gardÃ© ?</li></ul></details>
    <p><strong>ğŸ¯ DÃ©fi autonome :</strong> (+12) + (-7) =</p>
    <div class='quiz-input'>
        <input type='text' class='quiz-textbox' id='phase3Answer' placeholder='Ta rÃ©ponse' maxlength='4'>
    <button class='quiz-btn' onclick="checkPhaseAnswer(3, '+5', 'Signes diffÃ©rents : 12 - 7 = 5, signe du plus grand (+12) â†’ +5')">âœ“ Valider</button>
    </div>
    <div class='feedback-zone' id='phase3Feedback'></div>
   </div>
  </div>
 </div>


</section>
<section id='methode-illustree'><h2>ğŸ’¡ 4. MÃ©thode illustrÃ©e</h2>
 <div class='method-toolbar'>
    <div class='timeline-steps' aria-label='Progression mÃ©thode'>
     <button class='tstep active' data-target='#etape1' aria-label='Aller Ã©tape 1'>1</button>
     <button class='tstep' data-target='#etape2' aria-label='Aller Ã©tape 2'>2</button>
     <button class='tstep' data-target='#etape3' aria-label='Aller Ã©tape 3'>3</button>
    </div>
    <button id='toggleFast' class='toggle-mode' aria-pressed='false'>Mode rÃ©vision rapide</button>
 </div>
 <p class='intro-methode'>But : en 3 rÃ©flexes visuels â†’ traiter n'importe quelle addition de relatifs sans hÃ©sitation.</p>
 <div class='method-steps'>
    <div class='step-card etape1' id='etape1' role='group' aria-labelledby='etape1Titre'>
   <div class='etape-badge' aria-label='Ã‰tape 1'>1</div>
    <h3 id='etape1Titre'>ğŸ”¹ MÃªme signe</h3>
   <div class='etape-contexte'>ğŸŒ -4Â°C le matin, baisse de 6Â°C â†’ -10Â°C</div>
   <div class='regle-encadree regle-bleue'>
    <div class='titre-regle'>ğŸ“ RÃˆGLE</div>
    <div class='contenu-regle'>On additionne les valeurs et on garde le signe commun.</div>
   </div>
   <div class='etape-exemple'>
    <div class='expr'>(-4) + (-6)</div>
    <div class='explication-inline'>4 + 6 = 10 â†’ les deux sont nÃ©gatifs â†’ rÃ©sultat : <strong>-10</strong></div>
   </div>
   <div class='mini-check'>
    <label for='mstep1' class='mini-label'>Test rapide :</label>
    <input type='text' id='mstep1' class='quiz-textbox mini' placeholder='RÃ©sultat ?' maxlength='5'>
    <button class='quiz-btn mini btn-method' data-method='1' data-ans='-14' data-key='checkM1'>âœ“</button>
    <span class='mini-enonce'>(-8) + (-6)</span>
   </div>
   <div id='method1Feedback' class='feedback-zone mini-feedback'></div>
   <details class='astuce'><summary>Besoin d'un repÃ¨re ?</summary><p>Pense Ã  une dette qui augmente : tu dois 8â‚¬, on t'ajoute encore 6â‚¬ â†’ tu dois 14â‚¬.</p></details>
  </div>
    <div class='step-card etape2' id='etape2' role='group' aria-labelledby='etape2Titre'>
   <div class='etape-badge' aria-label='Ã‰tape 2'>2</div>
    <h3 id='etape2Titre'>ğŸ”¸ Signes diffÃ©rents</h3>
   <div class='etape-contexte'>ğŸ’° +8â‚¬ en poche, tu dÃ©penses 3â‚¬ â†’ il te reste +5â‚¬</div>
   <div class='regle-encadree regle-orange'>
    <div class='titre-regle'>ğŸ“ RÃˆGLE</div>
    <div class='contenu-regle'>Soustraire la plus petite valeur absolue de la plus grande. Signe = celui de la plus grande valeur absolue.</div>
   </div>
   <div class='etape-exemple'>
    <div class='expr'>(+8) + (-3)</div>
    <div class='explication-inline'>8 - 3 = 5 â†’ plus grand = +8 â†’ <strong>+5</strong></div>
   </div>
   <div class='mini-check'>
    <label for='mstep2' class='mini-label'>Teste :</label>
    <input type='text' id='mstep2' class='quiz-textbox mini' placeholder='RÃ©sultat ?' maxlength='5'>
    <button class='quiz-btn mini btn-method' data-method='2' data-ans='-5' data-key='checkM2'>âœ“</button>
    <span class='mini-enonce'>(+2) + (-7)</span>
   </div>
   <div id='method2Feedback' class='feedback-zone mini-feedback'></div>
   <details class='variante'><summary>Variante visuelle (droite graduÃ©e)</summary>
    <svg class='droite-svg' viewBox='0 0 320 60' aria-label='Droite graduÃ©e'>
     <line x1='10' y1='30' x2='310' y2='30' stroke='#345' stroke-width='2'/>
     <line x1='160' y1='25' x2='160' y2='35' stroke='#567' stroke-width='2'/>
     <text x='156' y='48' font-size='10' fill='#89a'>0</text>
     <circle cx='184' cy='30' r='5' fill='#3b82f6'/>
     <text x='175' y='15' font-size='10' fill='#3b82f6'>+2</text>
     <line x1='184' y1='30' x2='134' y2='30' stroke='#f87171' stroke-width='4' marker-end='url(#fleche)'/>
     <circle cx='134' cy='30' r='5' fill='#f87171'/>
     <text x='125' y='15' font-size='10' fill='#f87171'>-5</text>
     <defs>
      <marker id='fleche' markerWidth='10' markerHeight='10' refX='6' refY='3' orient='auto'>
       <polygon points='0 0, 6 3, 0 6' fill='#f87171'/>
      </marker>
     </defs>
    </svg>
    <p class='note-ligne'>On part de +2 puis on recule 7 unitÃ©s â†’ on passe sous zÃ©ro jusqu'Ã  -5.</p>
   </details>
  </div>
    <div class='step-card etape3' id='etape3' role='group' aria-labelledby='etape3Titre'>
   <div class='etape-badge' aria-label='Ã‰tape 3'>3</div>
    <h3 id='etape3Titre'>âœ… ContrÃ´le final</h3>
   <div class='etape-contexte'>ğŸ§ª VÃ©rifier que le rÃ©sultat Â« raconte une histoire logique Â»</div>
   <div class='regle-encadree regle-verte'>
    <div class='titre-regle'>ï¿½ RÃˆGLE</div>
    <div class='contenu-regle'>Toujours tester mentalement avec tempÃ©rature OU argent.</div>
   </div>
   <ul class='liste-controle'>
    <li>Le signe est-il cohÃ©rent ?</li>
    <li>Distance logique par rapport Ã  0 ?</li>
    <li>Exemple rÃ©el plausible (tempÃ©rature, argent, profondeur) ?</li>
   </ul>
   <div class='mini-check'>
    <label for='mstep3' class='mini-label'>VÃ©rifie :</label>
    <input type='text' id='mstep3' class='quiz-textbox mini' placeholder='RÃ©sultat ?' maxlength='5'>
    <button class='quiz-btn mini btn-method' data-method='3' data-ans='+5' data-key='checkM3'>âœ“</button>
    <span class='mini-enonce'>(+12) + (-7)</span>
   </div>
   <div id='method3Feedback' class='feedback-zone mini-feedback'></div>
   <blockquote class='rappel'>Astuce mÃ©moire : Â« MÃªme signe j'additionne â€“ Signes diffÃ©rents je soustrais â€“ Toujours je vÃ©rifie Â».</blockquote>
  </div>
 </div>
 <div class='resume-flash'>
  <strong>RÃ©sumÃ© express :</strong> 1) MÃªme signe â†’ addition 2) DiffÃ©rents â†’ soustraction + signe du plus Â« grand Â» 3) VÃ©rification concrÃ¨te.
 </div>
</section>
<section id='erreurs' class='bloc-cours'>
 <h2>Comprendre les erreurs frÃ©quentes</h2>
 <p class='intro-erreurs'>Faire des erreurs est normal. Ici : on repÃ¨re ce qui revient, on retient la bonne rÃ¨gle et on Ã©vite les piÃ¨ges.</p>
 <div id='erreurs-frequentes' class='ancres-legacy'></div>
 <div id='analyse-erreurs-detaillee' class='ancres-legacy'></div>
 <div id='erreurs-a-reperer' class='ancres-legacy'></div>

 <div class='sous-section-erreurs'>
  <h3>1. Les erreurs qui reviennent souvent</h3>
  <p class='explication-sous-partie'>But : repÃ©rer rapidement ce que beaucoup dâ€™Ã©lÃ¨ves font faux. Format : cartes avec erreur â†’ faux â†’ correct.</p>
  <div class='grid-auto'>
   <div class='card'>
    <h4>âŒ Erreur : Retirer mÃ©caniquement le signe du plus grand</h4>
    <p><em>Faux :</em> (+3) + (-7) = +4</p>
    <p><strong>âœ… Correct :</strong> 7 - 3 = 4 puis signe de -7 â†’ <strong>-4</strong></p>
   </div>
   <div class='card'>
    <h4>âŒ Erreur : Confondre soustraction et diffÃ©rence</h4>
    <p><em>Faux :</em> (-5) + (-3) = -2</p>
    <p><strong>âœ… Correct :</strong> MÃªme signe â†’ 5 + 3 = 8 â†’ <strong>-8</strong></p>
   </div>
   <div class='card'>
    <h4>âŒ Erreur : Oublier de justifier le signe</h4>
    <p><em>Exemple incomplet :</em> (+6) + (-2) = 4</p>
    <p><strong>âœ… Correct :</strong> 6 - 2 = 4, signe de +6 â†’ <strong>+4</strong></p>
   </div>
  </div>
 </div>

 <div class='sous-section-erreurs'>
  <h3>2. Ce quâ€™il faut retenir pour ne plus les refaire</h3>
  <p class='explication-sous-partie'>But : donner la rÃ¨gle / rÃ©flexe / test mental qui corrige lâ€™erreur.</p>
  <ul class='liste-retention'>
   <li>Signes diffÃ©rents â†’ je soustrais et je garde le signe de la plus grande distance Ã  0.</li>
   <li>Signes identiques â†’ jâ€™additionne et je garde ce signe.</li>
   <li>Je vÃ©rifie : â€œMon signe final est-il logique dans un exemple rÃ©el ?â€.</li>
   <li>En cas de doute â†’ je reformule avec une tempÃ©rature ou de lâ€™argent.</li>
  </ul>
 </div>

 <div class='sous-section-erreurs'>
  <h3>3. PiÃ¨ges Ã  Ã©viter</h3>
  <p class='explication-sous-partie'>But : alerter AVANT que lâ€™erreur ne se produise (cas limites, confusions classiques).</p>
  <ul class='liste-pieges'>
   <li>Ne pas additionner quand les signes sont diffÃ©rents.</li>
   <li>Ne pas dÃ©cider le signe â€œau hasardâ€ : toujours le justifier.</li>
   <li>Ne pas confondre â€œsoustraireâ€ et â€œcomparer les distancesâ€.</li>
   <li>Ne pas oublier le contexte : vÃ©rifier si le rÃ©sultat â€œraconte une histoire logiqueâ€.</li>
  </ul>
  <div class='grid-auto'>
   <div class='card'>
    <h4>ğŸ•µï¸ Exercice : Trouve l'erreur</h4>
    <p><strong>Calcul :</strong> (+5) + (-8) = +13</p>
    <p><strong>ğŸ“ Quelle est l'erreur ? Donne le bon rÃ©sultat :</strong></p>
    <div class='quiz-input'>
        <input type='text' class='quiz-textbox' id='piege1Answer' placeholder='Ta rÃ©ponse' maxlength='4'>
    <button class='quiz-btn btn-piege' data-piege='1' data-ans='-3' data-key='piege1'>âœ“ Valider</button>
    </div>
    <div class='feedback-zone' id='piege1Feedback'></div>
   </div>
   <div class='card'>
    <h4>ğŸ•µï¸ Exercice : Trouve l'erreur</h4>
    <p><strong>Calcul :</strong> (-6) + (-4) = +2</p>
    <p><strong>ğŸ“ Quelle est l'erreur ? Donne le bon rÃ©sultat :</strong></p>
    <div class='quiz-input'>
        <input type='text' class='quiz-textbox' id='piege2Answer' placeholder='Ta rÃ©ponse' maxlength='4'>
    <button class='quiz-btn btn-piege' data-piege='2' data-ans='-10' data-key='piege2'>âœ“ Valider</button>
    </div>
    <div class='feedback-zone' id='piege2Feedback'></div>
   </div>
   <div class='card'>
    <h4>ğŸ•µï¸ Exercice : Trouve l'erreur</h4>
    <p><strong>Calcul :</strong> (+9) + (-2) = -7</p>
    <p><strong>ğŸ“ Quelle est l'erreur ? Donne le bon rÃ©sultat :</strong></p>
    <div class='quiz-input'>
        <input type='text' class='quiz-textbox' id='piege3Answer' placeholder='Ta rÃ©ponse' maxlength='4'>
    <button class='quiz-btn btn-piege' data-piege='3' data-ans='+7' data-key='piege3'>âœ“ Valider</button>
    </div>
    <div class='feedback-zone' id='piege3Feedback'></div>
   </div>
  </div>
 </div>
</section>
<section><h2>âœ… 7. Auto-contrÃ´le immÃ©diat</h2><ul><li>Je peux expliquer la notion Â« Addition/Soustraction relatifs Â».</li><li>Je sais appliquer sans modÃ¨le.</li><li>Je justifie mon signe / choix / formule.</li></ul></section>
<section><h2>ğŸ—“ï¸ 8. Plan de rÃ©activation</h2>
 <p><strong>Cours fait le :</strong> <span id='dateToday' class='text-fade'></span></p>
 <div class='reactivation-item'>
  <button class='btn-calendar-mini' data-interval='1' data-type='decouverte'>ğŸ“…</button>
  <span><strong>J+1</strong> (<span id='dateJ1'></span>) : <a href='../exercices/exercices_niveau1_decouverte.html'>2 ex. N1 dÃ©couverte</a></span>
 </div>
 <div class='reactivation-item'>
  <button class='btn-calendar-mini' data-interval='3' data-type='pratique'>ğŸ“…</button>
  <span><strong>J+3</strong> (<span id='dateJ3'></span>) : <a href='../exercices/exercices_niveau2_pratique.html'>2 ex. N2 pratique</a></span>
 </div>
 <div class='reactivation-item'>
  <button class='btn-calendar-mini' data-interval='7' data-type='synthese'>ğŸ“…</button>
  <span><strong>J+7</strong> (<span id='dateJ7'></span>) : <a href='../fiches_resume/fiche_synthese.html'>mini quiz synthÃ¨se</a></span>
 </div>
 <div class='reactivation-item'>
  <button class='btn-calendar-mini' data-interval='14' data-type='defi'>ğŸ“…</button>
  <span><strong>J+14</strong> (<span id='dateJ14'></span>) : <a href='../exercices/exercices_niveau3_defi.html'>dÃ©fi mÃ©lange N3</a></span>
 </div>
 <div class='notice calendar-tip'>
  ğŸ’¡ Clique sur ğŸ“… pour ajouter chaque rappel individuellement Ã  ton Google Calendar
 </div>
</section>
<footer><small>Contenu enrichi â€“ GÃ©nÃ©ration structurÃ©e â€¢ RÃ©activation : J+1 / J+3 / J+7 / J+14</small></footer>

<script>
// Calcul dynamique des dates de rÃ©activation
function initRevisionDates() {
 const today = new Date();
 const options = { 
  weekday: 'long', 
  day: 'numeric', 
  month: 'long', 
  year: 'numeric' 
 };
 
 // Date du jour
 document.getElementById('dateToday').textContent = today.toLocaleDateString('fr-FR', options);
 
 // Calcul des dates J+1, J+3, J+7, J+14
 const intervals = [1, 3, 7, 14];
 const dateIds = ['dateJ1', 'dateJ3', 'dateJ7', 'dateJ14'];
 
 intervals.forEach((interval, index) => {
  const futureDate = new Date(today);
  futureDate.setDate(today.getDate() + interval);
  
  const dateStr = futureDate.toLocaleDateString('fr-FR', { 
   weekday: 'short', 
   day: 'numeric', 
   month: 'short' 
  });
  
  document.getElementById(dateIds[index]).textContent = dateStr;
 });
}

// Fonction pour crÃ©er un lien Google Calendar
function createGoogleCalendarLink(date, title, description, duration = 30) {
 const startDate = new Date(date);
 // Programmer Ã  18h00 par dÃ©faut (heure de rÃ©vision)
 startDate.setHours(18, 0, 0, 0);
 
 const endDate = new Date(startDate);
 endDate.setMinutes(startDate.getMinutes() + duration);
 
 // Formatage des dates pour Google Calendar (format UTC)
 const formatDate = (d) => d.toISOString().replace(/[-:]/g, '').split('.')[0] + 'Z';
 
 const params = new URLSearchParams({
  action: 'TEMPLATE',
  text: title,
  dates: formatDate(startDate) + '/' + formatDate(endDate),
  details: description,
  location: 'RÃ©visions Maths - Nombres relatifs'
 });
 
 return 'https://calendar.google.com/calendar/render?' + params.toString();
}

// Fonction pour ajouter un Ã©vÃ©nement individuel au Google Calendar
function addSingleEventToCalendar(interval, type) {
 const today = new Date();
 const eventDate = new Date(today);
 eventDate.setDate(today.getDate() + interval);
 
 const chapterTitle = "Nombres relatifs";
 
 // Configuration selon le type d'Ã©vÃ©nement
 const eventConfig = {
  decouverte: {
   icon: 'ğŸ“š',
   title: 'Exercices DÃ©couverte',
   url: 'https://geo92fr-dev.github.io/Learning/College_4ieme_Maths/01_Nombres_relatifs/exercices/exercices_niveau1_decouverte.html',
   description: 'RÃ©vision programmÃ©e : 2 exercices niveau 1 (dÃ©couverte).\n\nğŸ’¡ Objectif : RÃ©activer les notions de base avec des exercices guidÃ©s.'
  },
  pratique: {
   icon: 'ğŸ“–',
   title: 'Exercices Pratique',
   url: 'https://geo92fr-dev.github.io/Learning/College_4ieme_Maths/01_Nombres_relatifs/exercices/exercices_niveau2_pratique.html',
   description: 'RÃ©vision programmÃ©e : 2 exercices niveau 2 (pratique).\n\nğŸ’¡ Objectif : Application directe des rÃ¨gles apprises.'
  },
  synthese: {
   icon: 'ğŸ§ ',
   title: 'Quiz SynthÃ¨se',
   url: 'https://geo92fr-dev.github.io/Learning/College_4ieme_Maths/01_Nombres_relatifs/fiches_resume/fiche_synthese.html',
   description: 'RÃ©vision programmÃ©e : Mini quiz de synthÃ¨se.\n\nğŸ’¡ Objectif : VÃ©rifier la mÃ©morisation des rÃ¨gles essentielles.'
  },
  defi: {
   icon: 'ğŸ†',
   title: 'DÃ©fi Niveau 3',
   url: 'https://geo92fr-dev.github.io/Learning/College_4ieme_Maths/01_Nombres_relatifs/exercices/exercices_niveau3_defi.html',
   description: 'RÃ©vision programmÃ©e : Exercices dÃ©fi et approfondissement.\n\nğŸ’¡ Objectif : Consolider avec des problÃ¨mes complexes et crÃ©atifs.'
  }
 };
 
 const config = eventConfig[type];
 const title = `${config.icon} RÃ©vision ${chapterTitle} - ${config.title}`;
 const description = `${config.description}\n\nLien direct : ${config.url}`;
 
 const calendarUrl = createGoogleCalendarLink(eventDate, title, description);
 window.open(calendarUrl, '_blank');
 
 // Feedback discret
 const dayName = eventDate.toLocaleDateString('fr-FR', { weekday: 'long', day: 'numeric', month: 'long' });
 alert(`ğŸ“… Rappel "${config.title}" ajoutÃ© pour le ${dayName} !\n\nVÃ©rifie le nouvel onglet pour confirmer l'Ã©vÃ©nement.`);
}

// Fonctions pour l'interactivitÃ© des phases d'apprentissage
function normalizeAnswer(answer) {
    return answer.trim().replace(/\s+/g, '').toLowerCase();
}

function checkPhaseAnswer(phaseNum, correctAnswer, explanation) {
    const input = document.getElementById(`phase${phaseNum}Answer`);
    const feedback = document.getElementById(`phase${phaseNum}Feedback`);
    const userAnswer = input.value.trim();
    
    if (!userAnswer) {
        feedback.className = 'feedback-zone feedback-neutral';
        feedback.innerHTML = 'ğŸ“ <strong>Ã‰cris ta rÃ©ponse :</strong> Exemple +5, -3, ou 0';
        return;
    }
    
    // Normaliser les rÃ©ponses pour la comparaison
    const normalizedUser = normalizeAnswer(userAnswer);
    const normalizedCorrect = normalizeAnswer(correctAnswer);
    
    // VÃ©rifier diffÃ©rentes variantes de rÃ©ponse
    let isCorrect = false;
    if (normalizedUser === normalizedCorrect || 
        normalizedUser === normalizedCorrect.replace('+', '') ||
        (correctAnswer === '0' && (normalizedUser === 'zÃ©ro' || normalizedUser === 'zero'))) {
        isCorrect = true;
    }
    
    if (isCorrect) {
        feedback.className = 'feedback-zone feedback-success';
        feedback.innerHTML = `âœ“ <strong>Bravo !</strong> La rÃ©ponse est bien ${correctAnswer}<br><em>ğŸ’¡ ${explanation}</em>`;
        
        // DÃ©sactiver aprÃ¨s succÃ¨s
        input.disabled = true;
        input.style.background = '#1a4d3a';
        const btn = input.nextElementSibling;
        btn.disabled = true;
        btn.textContent = 'âœ“ ValidÃ©';
    } else {
        feedback.className = 'feedback-zone feedback-error';
        feedback.innerHTML = `âŒ <strong>Pas tout Ã  fait.</strong> RÃ©essaie en appliquant la mÃ©thode Ã©tape par Ã©tape.<br><em>ğŸ’¡ Aide : ${explanation}</em>`;
    }
}

// Fonction pour valider les piÃ¨ges Ã  Ã©viter
function checkPiegeAnswer(piegeNum, correctAnswer, explanation) {
    const input = document.getElementById(`piege${piegeNum}Answer`);
    const feedback = document.getElementById(`piege${piegeNum}Feedback`);
    const userAnswer = input.value.trim();
    
    if (!userAnswer) {
        feedback.className = 'feedback-zone feedback-neutral';
        feedback.innerHTML = 'ğŸ“ <strong>Ã‰cris ta rÃ©ponse :</strong> Exemple +7, -10, ou 0';
        return;
    }
    
    // Normaliser les rÃ©ponses pour la comparaison
    const normalizedUser = normalizeAnswer(userAnswer);
    const normalizedCorrect = normalizeAnswer(correctAnswer);
    
    // VÃ©rifier diffÃ©rentes variantes de rÃ©ponse
    let isCorrect = false;
    if (normalizedUser === normalizedCorrect || 
        normalizedUser === normalizedCorrect.replace('+', '') ||
        (correctAnswer === '0' && (normalizedUser === 'zÃ©ro' || normalizedUser === 'zero'))) {
        isCorrect = true;
    }
    
    if (isCorrect) {
        feedback.className = 'feedback-zone feedback-success';
        feedback.innerHTML = `âœ“ <strong>Excellent !</strong> Tu as trouvÃ© l'erreur et la correction : ${correctAnswer}<br><em>ğŸ’¡ ${explanation}</em>`;
        
        // DÃ©sactiver aprÃ¨s succÃ¨s
        input.disabled = true;
        input.style.background = '#1a4d3a';
        const btn = input.nextElementSibling;
        btn.disabled = true;
        btn.textContent = 'âœ“ ValidÃ©';
    } else {
        feedback.className = 'feedback-zone feedback-error';
        feedback.innerHTML = `âŒ <strong>Pas encore...</strong> RÃ©flÃ©chis : quelle est l'erreur dans le calcul proposÃ© ?<br><em>ğŸ’¡ Indice : ${explanation.split('.')[0]}.</em>`;
    }
}

// Initialiser au chargement de la page
// Dictionnaire centralisÃ© des explications
const EXPLAINS = Object.freeze({
    method1: "MÃªme signe : on additionne les valeurs absolues et on garde le signe commun.",
    method2: "Signes diffÃ©rents : soustraire les valeurs absolues et garder le signe de la plus grande distance Ã  0.",
    method3: "ContrÃ´le : tester avec un contexte (argent, tempÃ©rature) pour valider le signe.",
    checkM1: "8 + 6 = 14 et les deux sont nÃ©gatifs â†’ rÃ©sultat nÃ©gatif.",
    checkM2: "7 - 2 = 5 et 7 Ã©tait nÃ©gatif â†’ le rÃ©sultat est -5.",
    checkM3: "12 - 7 = 5 le plus grand est positif â†’ +5.",
    piege1: "On a additionnÃ© au lieu de soustraire : 8 - 5 = 3 signe de -8 â†’ -3.",
    piege2: "MÃªmes signes nÃ©gatifs : on additionne 6 + 4 = 10 puis signe -.",
    piege3: "Valeur absolue la plus grande = 9 positif â†’ 9 - 2 = 7 donc +7."
});

document.addEventListener('DOMContentLoaded', function() {
 initRevisionDates();
 
 // Ajouter les Ã©vÃ©nements aux boutons calendrier individuels
 const calendarBtns = document.querySelectorAll('.btn-calendar-mini');
 calendarBtns.forEach(btn => {
  btn.addEventListener('click', function() {
   const interval = parseInt(this.getAttribute('data-interval'));
   const type = this.getAttribute('data-type');
   addSingleEventToCalendar(interval, type);
  });
 });

 // Timeline navigation
 const tsteps = document.querySelectorAll('.tstep');
 tsteps.forEach(step=>{
  step.addEventListener('click',()=>{
   tsteps.forEach(s=>s.classList.remove('active'));
   step.classList.add('active');
   const targetSel = step.getAttribute('data-target');
   const target = document.querySelector(targetSel);
   if(target){
    target.scrollIntoView({behavior:'smooth',block:'center'});
    target.classList.add('pulse-focus');
    setTimeout(()=>target.classList.remove('pulse-focus'),1200);
   }
  });
 });

 // Toggle rÃ©vision rapide
 const toggleFast = document.getElementById('toggleFast');
 if(toggleFast){
  toggleFast.addEventListener('click',()=>{
   const isActive = document.body.classList.toggle('fast-mode');
   toggleFast.setAttribute('aria-pressed', isActive ? 'true':'false');
   toggleFast.textContent = isActive ? 'Mode dÃ©taillÃ©' : 'Mode rÃ©vision rapide';
  });
 }

 // Auto validation Enter mini-checks
 const autoChecks = [
  {id:'mstep1',num:1,ans:'-14',key:'checkM1'},
  {id:'mstep2',num:2,ans:'-5',key:'checkM2'},
  {id:'mstep3',num:3,ans:'+5',key:'checkM3'}
 ];
 autoChecks.forEach(item=>{
  const el = document.getElementById(item.id);
  if(!el) return;
  el.addEventListener('keyup',e=>{
   if(e.key==='Enter'){
    checkMethodAnswer(item.num, item.answer || item.ans, EXPLAINS[item.key]);
   }
  });
 });

 // DÃ©lÃ©gation des boutons mÃ©thode (data-attributes)
 document.querySelectorAll('.btn-method').forEach(btn=>{
  btn.addEventListener('click',()=>{
   const num = parseInt(btn.dataset.method,10);
   const ans = btn.dataset.ans;
   const key = btn.dataset.key || ('method'+num);
   checkMethodAnswer(num, ans, EXPLAINS[key]);
  });
 });

 // DÃ©lÃ©gation des boutons piÃ¨ges (data-attributes)
 document.querySelectorAll('.btn-piege').forEach(btn=>{
  btn.addEventListener('click',()=>{
   const num = parseInt(btn.dataset.piege,10);
   const ans = btn.dataset.ans;
   const key = btn.dataset.key || ('piege'+num);
   checkPiegeAnswer(num, ans, EXPLAINS[key]);
  });
 });

 // Style dynamique minimal pour la pulsation focus (injection si absent)
 if(!document.getElementById('dynamicPulseStyle')){
  const st = document.createElement('style');
  st.id='dynamicPulseStyle';
  st.textContent = `.pulse-focus{box-shadow:0 0 0 3px rgba(103,199,255,.6)!important;transition:box-shadow .6s ease-out;}`;
  document.head.appendChild(st);
 }
});
</script>
</body></html>